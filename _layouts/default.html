<!DOCTYPE html>
<html>
  <head>
    <title>{% if page.title %}{{ page.title }} – {% endif %}{{ site.name }} – {{ site.description }}</title>
    <link rel="icon" type="image/x-icon" href="{{ '/images/ironman.ico' | absolute_url }}" />
    {% include meta.html %}

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/style.css" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} - {{ site.description }}" href="{{ site.baseurl }}/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>
<style>
  /* Style for the dark mode toggle switch */
  .switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 34px;
  }

  .switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }

  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: 0.3s ease-in-out;
    border-radius: 34px;
  }

  .slider:before {
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    border-radius: 50%;
    left: 4px;
    bottom: 4px;
    background: white url('data:image/svg+xml;charset=UTF-8,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 172.151 172.151%22 fill%3D%22%23000000%22%3E%3Cg%3E%3Cpath d%3D%22M94.992%2C27.9c-1.292-0.552-2.796-0.292-3.832%2C0.67c-1.031%2C0.963-1.398%2C2.443-0.937%2C3.777c8.126%2C23.446%2C1.654%2C49.526-16.488%2C66.441c-18.141%2C16.918-44.614%2C21.557-67.43%2C11.814c-1.297-0.55-2.8-0.291-3.832%2C0.672c-1.031%2C0.963-1.398%2C2.443-0.937%2C3.777c3.195%2C9.216%2C8.213%2C17.533%2C14.916%2C24.72c12.722%2C13.643%2C29.998%2C21.515%2C48.642%2C22.166c0.836%2C0.03%2C1.666%2C0.044%2C2.499%2C0.044c17.728%2C0%2C34.54-6.611%2C47.573-18.764c13.643-12.724%2C21.517-29.998%2C22.168-48.643c0.651-18.644-5.998-36.426-18.72-50.069C111.91%2C37.318%2C103.964%2C31.731%2C94.992%2C27.9z%22%2F%3E%3Cpath d%3D%22M47.4%2C31.377c0.696%2C0.696%2C1.609%2C1.045%2C2.521%2C1.045s1.825-0.348%2C2.521-1.045l5.107-5.107l5.107%2C5.107c0.696%2C0.696%2C1.609%2C1.045%2C2.521%2C1.045s1.825-0.348%2C2.521-1.045c1.393-1.393%2C1.393-3.649%2C0-5.042l-5.106-5.106l4.972-4.972c1.393-1.393%2C1.393-3.649%2C0-5.042c-1.393-1.393-3.649-1.393-5.042%2C0l-4.972%2C4.972l-4.973-4.973c-1.393-1.393-3.649-1.393-5.042%2C0c-1.393%2C1.393-1.393%2C3.649%2C0%2C5.042l4.973%2C4.973L47.4%2C26.335C46.007%2C27.728%2C46.007%2C29.984%2C47.4%2C31.377z%22%2F%3E%3Cpath d%3D%22M171.107%2C65.559L166%2C60.452l4.973-4.973c1.393-1.393%2C1.393-3.649%2C0-5.042s-3.649-1.393-5.042%2C0l-4.973%2C4.973l-4.973-4.973c-1.393-1.393-3.649-1.393-5.042%2C0s-1.393%2C3.649%2C0%2C5.042l4.973%2C4.973l-5.107%2C5.107c-1.393%2C1.393-1.393%2C3.649%2C0%2C5.042c0.696%2C0.696%2C1.609%2C1.045%2C2.521%2C1.045s1.825-0.348%2C2.521-1.045l5.107-5.107l5.107%2C5.107c0.696%2C0.696%2C1.609%2C1.045%2C2.521%2C1.045s1.825-0.348%2C2.521-1.045C172.499%2C69.208%2C172.499%2C66.952%2C171.107%2C65.559z%22%2F%3E%3Cpath d%3D%22M6.087%2C95.562l5.107-5.107l5.107%2C5.107c0.696%2C0.696%2C1.609%2C1.045%2C2.521%2C1.045c0.912%2C0%2C1.825-0.348%2C2.521-1.045c1.393-1.393%2C1.393-3.649%2C0-5.042l-5.107-5.107l4.973-4.973c1.393-1.393%2C1.393-3.649%2C0-5.042s-3.649-1.393-5.042%2C0l-4.973%2C4.973l-4.972-4.973c-1.393-1.393-3.649-1.393-5.042%2C0s-1.393%2C3.649%2C0%2C5.042l4.973%2C4.973l-5.108%2C5.106c-1.393%2C1.393-1.393%2C3.649%2C0%2C5.042c0.696%2C0.696%2C1.609%2C1.045%2C2.521%2C1.045C4.478%2C96.606%2C5.39%2C96.258%2C6.087%2C95.562z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E') no-repeat center;
    background-size: 16px;
    transition: 0.3s ease-in-out;
  }

  /* When the checkbox is checked, change the background color and move the slider */
  input:checked + .slider {
    background-color: #424242;
  }

  input:checked + .slider:before {
    transform: translateX(26px);
    background: white url('data:image/svg+xml;charset=UTF-8,%3Csvg width%3D%22800px%22 height%3D%22800px%22 viewBox%3D%220 0 24 24%22 fill%3D%22%23000000%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg id%3D%22SVGRepo_iconCarrier%22%3E%3Ccircle cx%3D%2212%22 cy%3D%2212%22 r%3D%225%22 stroke%3D%22%23000%22 stroke-width%3D%221.5%22%2F%3E%3Cpath d%3D%22M12 2V4%22 stroke%3D%22%23000%22 stroke-width%3D%221.5%22 stroke-linecap%3D%22round%22%2F%3E%3Cpath d%3D%22M12 20V22%22 stroke%3D%22%23000%22 stroke-width%3D%221.5%22 stroke-linecap%3D%22round%22%2F%3E%3Cpath d%3D%22M4 12L2 12%22 stroke%3D%22%23000%22 stroke-width%3D%221.5%22 stroke-linecap%3D%22round%22%2F%3E%3Cpath d%3D%22M22 12L20 12%22 stroke%3D%22%23000%22 stroke-width%3D%221.5%22 stroke-linecap%3D%22round%22%2F%3E%3Cpath d%3D%22M19.7778 4.22266L17.5558 6.25424%22 stroke%3D%22%23000%22 stroke-width%3D%221.5%22 stroke-linecap%3D%22round%22%2F%3E%3Cpath d%3D%22M4.22217 4.22266L6.44418 6.25424%22 stroke%3D%22%23000%22 stroke-width%3D%221.5%22 stroke-linecap%3D%22round%22%2F%3E%3Cpath d%3D%22M6.44434 17.5557L4.22211 19.7779%22 stroke%3D%22%23000%22 stroke-width%3D%221.5%22 stroke-linecap%3D%22round%22%2F%3E%3Cpath d%3D%22M19.7778 19.7773L17.5558 17.5551%22 stroke%3D%22%23000%22 stroke-width%3D%221.5%22 stroke-linecap%3D%22round%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E') no-repeat center;
    background-size: 16px;
  }

  /* Round slider */
  .slider.round {
    border-radius: 34px;
  }

  .slider.round:before {
    border-radius: 50%;
  }
</style>


  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-1FBB6CV6WE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-1FBB6CV6WE');
  </script>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="{{ site.baseurl }}/" class="site-avatar"><img src="{{ site.baseurl }}/{{ site.avatar }}" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="{{ site.baseurl }}/">{{ site.name }}</a></h1>
            <p class="site-description">{{ site.description }}</p>
          </div>

          <nav>
            <a href="{{ site.baseurl }}/">Blog</a>
            <a href="{{ site.baseurl }}/categories">Categories</a>
            <a href="{{ site.baseurl }}/about">About</a>
            <a href="https://milankacar.github.io/CV/">CV</a>
          </nav>

        <!-- Dark Mode Toggle Switch -->
        <div class="dark-mode-toggle">
          <label class="switch">
            <input type="checkbox" id="toggle-mode" aria-label="Toggle Dark Mode">
            <span class="slider round"></span>
          </label>
        </div>

        </header>
      </div>
    </div>

    <div id="main" role="main" class="container" style="text-align: justify">
      {{ content }}
    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          {% include svg-icons.html %}
        </footer>
      </div>
    </div>

    {% include analytics.html %}


    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const toggleButton = document.getElementById("toggle-mode");
        const chartCanvas = document.getElementById("radialChart");
        let radialChart = null;
    
        if (!toggleButton) {
          console.error("Toggle button not found!");
          return;
        }
    
        // Chart options function
        function updateChartOptions(isDarkMode) {
          if (!chartCanvas) return;
          const ctx = chartCanvas.getContext('2d');
          if (!ctx) return;
    
          const categoryData = {
            {% for category in site.categories %}
              "{{ category | first }}": {{ category[1].size }},
            {% endfor %}
          };
          const categories = Object.keys(categoryData);
          const postCounts = Object.values(categoryData);
    
          // Destroy old chart
          if (radialChart) radialChart.destroy();
    
          // Create new chart
          radialChart = new Chart(ctx, {
            type: 'polarArea',
            data: {
              labels: categories,
              datasets: [{
                label: 'Number of Posts',
                data: postCounts,
                backgroundColor: [
                  'rgba(255, 99, 132, 0.2)',
                  'rgba(54, 162, 235, 0.2)',
                  'rgba(255, 206, 86, 0.2)',
                  'rgba(75, 192, 192, 0.2)',
                  'rgba(153, 102, 255, 0.2)',
                  'rgba(255, 159, 64, 0.2)',
                  'rgba(199, 199, 199, 0.2)',
                  'rgba(83, 102, 255, 0.2)',
                  'rgba(255, 102, 255, 0.2)',
                  'rgba(102, 255, 204, 0.2)',
                  'rgba(255, 153, 153, 0.2)',
                  'rgba(204, 255, 102, 0.2)',
                  'rgba(102, 204, 255, 0.2)',
                  'rgba(255, 204, 102, 0.2)',
                  'rgba(102, 255, 153, 0.2)',
                  'rgba(255, 102, 153, 0.2)',
                  'rgba(153, 255, 102, 0.2)',
                  'rgba(102, 153, 255, 0.2)',
                  'rgba(255, 102, 102, 0.2)',
                  'rgba(102, 255, 255, 0.2)',
                ],
                
                borderColor: [
                  'rgba(255, 99, 132, 1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(255, 206, 86, 1)',
                  'rgba(75, 192, 192, 1)',
                  'rgba(153, 102, 255, 1)',
                  'rgba(255, 159, 64, 1)',
                  'rgba(199, 199, 199, 1)',
                  'rgba(83, 102, 255, 1)',
                  'rgba(255, 102, 255, 1)',
                  'rgba(102, 255, 204, 1)',
                  'rgba(255, 153, 153, 1)',
                  'rgba(204, 255, 102, 1)',
                  'rgba(102, 204, 255, 1)',
                  'rgba(255, 204, 102, 1)',
                  'rgba(102, 255, 153, 1)',
                  'rgba(255, 102, 153, 1)',
                  'rgba(153, 255, 102, 1)',
                  'rgba(102, 153, 255, 1)',
                  'rgba(255, 102, 102, 1)',
                  'rgba(102, 255, 255, 1)',
                ],
                borderWidth: 2,
              }]
            },
            options: {
              responsive: true,
              plugins: {
                legend: {
                  labels: {
                    color: isDarkMode ? '#fff' : '#333',
                  }
                }
              },
              scales: {
                r: {
                  grid: {
                    color: isDarkMode ? 'rgba(255, 255, 255, 0.2)' : 'rgba(128, 128, 128, 0.5)',
                  },
                  angleLines: {
                    color: isDarkMode ? 'rgba(255, 255, 255, 0.3)' : 'rgba(128, 128, 128, 0.7)',
                  },
                  ticks: {
                    color: isDarkMode ? '#fff' : '#000',
                    backdropColor: 'rgba(255, 255, 255, 0)',
                  }
                }
              }
            }
          });
        }
    
        // Giscus theme function
        function updateGiscusTheme(isDarkMode) {
          const iframe = document.querySelector("iframe.giscus-frame");
          if (iframe) {
            // If found, update immediately:
            iframe.contentWindow.postMessage({
              giscus: {
                setConfig: {
                  theme: isDarkMode ? "dark" : "light"
                }
              }
            }, "*");
          } else {
            // If not found, watch for it:
            const observer = new MutationObserver((mutations, obs) => {
              const found = document.querySelector("iframe.giscus-frame");
              if (found) {
                found.contentWindow.postMessage({
                  giscus: {
                    setConfig: {
                      theme: isDarkMode ? "dark" : "light"
                    }
                  }
                }, "*");
                obs.disconnect();
              }
            });
            observer.observe(document.body, { childList: true, subtree: true });
          }
        }

        
        // Initialize theme + chart + giscus
        function initializeTheme() {
          const savedMode = localStorage.getItem("darkMode") === "enabled";
          toggleButton.checked = savedMode;
      
          const isDarkMode = toggleButton.checked;
          document.body.classList.toggle("dark-mode", isDarkMode);
          document.documentElement.setAttribute("data-theme", isDarkMode ? "dark" : "light");
          updateChartOptions(isDarkMode);
          updateGiscusTheme(isDarkMode);
        }
      
        toggleButton.addEventListener("change", () => {
          const isDarkMode = toggleButton.checked;
          document.body.classList.toggle("dark-mode", isDarkMode);
          document.documentElement.setAttribute("data-theme", isDarkMode ? "dark" : "light");
          localStorage.setItem("darkMode", isDarkMode ? "enabled" : "disabled");
          updateChartOptions(isDarkMode);
          updateGiscusTheme(isDarkMode);
        });


    
        initializeTheme();
      });
    </script>




    
    <script type="text/javascript">

      // Fetch JSON data from GitHub Pages URL
      fetch('{{ site.baseurl }}/visits.json')
        .then(response => response.json())
        .then(data => {
          // Sum all activeUsers from the JSON data
          const totalActiveUsers = data.data.reduce((sum, entry) => sum + parseInt(entry.activeUsers), 0);
          // Insert the total active users into the placeholder in about.md
          activeUsers = document.getElementById('activeUsers');
          if (activeUsers) {
            activeUsers.textContent = totalActiveUsers;
          }
        })
    </script>

    <!-- Cookie Consent Banner Styles -->
    <style>
      #cookie-consent {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: #ffffff;
        color: rgb(10, 10, 10);
        padding: 20px;
        border-top: 1px solid #e7ecf0;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        z-index: 9999;
        transform: translateY(100%);
        transition: transform 0.4s ease-in-out;
        font-family: ui-serif, "Georgia", "Cambria", "Times New Roman", "Times", serif;
      }

      #cookie-consent.show {
        transform: translateY(0);
      }

      .cookie-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
      }

      .cookie-text {
        flex: 1;
        font-size: 15px;
        line-height: 1.6;
        color: rgb(82, 82, 82);
      }

      .cookie-text a {
        color: rgb(10, 10, 10);
        text-decoration: underline;
        text-underline-offset: 4px;
        transition: all 0.2s;
      }

      .cookie-text a:hover {
        color: rgb(82, 82, 82);
      }

      .cookie-buttons {
        display: flex;
        gap: 12px;
        flex-shrink: 0;
      }

      .cookie-btn {
        padding: 8px 20px;
        border: 1px solid rgb(10, 10, 10);
        background-color: transparent;
        color: rgb(10, 10, 10);
        font-size: 14px;
        font-family: ui-serif, "Georgia", "Cambria", "Times New Roman", "Times", serif;
        cursor: pointer;
        transition: all 0.2s;
        white-space: nowrap;
      }

      .cookie-btn:hover {
        background-color: rgb(10, 10, 10);
        color: #ffffff;
      }

      .cookie-btn-accept {
        background-color: rgb(10, 10, 10);
        color: #ffffff;
      }

      .cookie-btn-accept:hover {
        background-color: rgb(82, 82, 82);
        border-color: rgb(82, 82, 82);
      }

      /* Dark Mode Specific Styles */
      body[data-theme="dark"] #cookie-consent,
      body.dark-mode #cookie-consent {
        background-color: #0e1116;
        color: rgb(250, 250, 250);
        border-top: 1px solid #30363d;
      }

      body[data-theme="dark"] .cookie-text,
      body.dark-mode .cookie-text {
        color: rgb(163, 163, 163);
      }

      body[data-theme="dark"] .cookie-text a,
      body.dark-mode .cookie-text a {
        color: rgb(250, 250, 250);
      }

      body[data-theme="dark"] .cookie-text a:hover,
      body.dark-mode .cookie-text a:hover {
        color: rgb(163, 163, 163);
      }

      body[data-theme="dark"] .cookie-btn,
      body.dark-mode .cookie-btn {
        border-color: rgb(250, 250, 250);
        color: rgb(250, 250, 250);
      }

      body[data-theme="dark"] .cookie-btn:hover,
      body.dark-mode .cookie-btn:hover {
        background-color: rgb(250, 250, 250);
        color: #0e1116;
      }

      body[data-theme="dark"] .cookie-btn-accept,
      body.dark-mode .cookie-btn-accept {
        background-color: rgb(250, 250, 250);
        color: #0e1116;
      }

      body[data-theme="dark"] .cookie-btn-accept:hover,
      body.dark-mode .cookie-btn-accept:hover {
        background-color: rgb(163, 163, 163);
        border-color: rgb(163, 163, 163);
      }

      /* Mobile Responsive */
      @media screen and (max-width: 640px) {
        #cookie-consent {
          padding: 16px;
        }

        .cookie-content {
          flex-direction: column;
          gap: 16px;
        }

        .cookie-text {
          font-size: 14px;
          text-align: center;
        }

        .cookie-buttons {
          flex-direction: column;
          width: 100%;
        }

        .cookie-btn {
          width: 100%;
          text-align: center;
        }
      }
    </style>

    <!-- Cookie Consent Banner HTML -->
    <div id="cookie-consent">
      <div class="cookie-content">
        <div class="cookie-text">
          This website uses cookies for analytics purposes. These cookies are managed by Google Analytics, not by us. 
          <a href="#" onclick="event.preventDefault(); showPrivacyInfo();">Learn more</a>
        </div>
        <div class="cookie-buttons">
          <button class="cookie-btn cookie-btn-accept" onclick="acceptCookies()">Accept</button>
          <button class="cookie-btn" onclick="declineCookies()">Decline</button>
        </div>
      </div>
    </div>

    <!-- Privacy Info Modal -->
    <div id="privacy-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); z-index: 10000; align-items: center; justify-content: center;">
      <div style="background: #ffffff; padding: 30px; max-width: 600px; margin: 20px; max-height: 80vh; overflow-y: auto; font-family: ui-serif, 'Georgia', 'Cambria', 'Times New Roman', 'Times', serif;">
        <h2 style="margin-top: 0; color: rgb(10, 10, 10);">Cookie Policy</h2>
        <p style="color: rgb(82, 82, 82); line-height: 1.6;">
          This website uses cookies solely for analytics purposes to help us understand how visitors interact with our content.
        </p>
        <h3 style="color: rgb(10, 10, 10);">What cookies do we use?</h3>
        <p style="color: rgb(82, 82, 82); line-height: 1.6;">
          We use Google Analytics cookies to collect anonymous information about page visits, time spent on the site, and general navigation patterns. 
          These cookies do not collect personally identifiable information.
        </p>
        <h3 style="color: rgb(10, 10, 10);">Who manages these cookies?</h3>
        <p style="color: rgb(82, 82, 82); line-height: 1.6;">
          All analytics cookies are managed by Google Analytics. We do not directly manage or have access to the data collected by these cookies. 
          For more information about how Google handles data, please visit <a href="https://policies.google.com/privacy" target="_blank" style="color: rgb(10, 10, 10); text-decoration: underline;">Google's Privacy Policy</a>.
        </p>
        <h3 style="color: rgb(10, 10, 10);">Your choices</h3>
        <p style="color: rgb(82, 82, 82); line-height: 1.6;">
          You can choose to accept or decline cookies. If you decline, we will not track your visit with Google Analytics. 
          You can change your decision at any time by clearing your browser's local storage and refreshing the page.
        </p>
        <button onclick="closePrivacyInfo()" style="padding: 8px 20px; border: 1px solid rgb(10, 10, 10); background-color: rgb(10, 10, 10); color: #ffffff; cursor: pointer; font-family: ui-serif, 'Georgia', 'Cambria', 'Times New Roman', 'Times', serif; margin-top: 20px;">Close</button>
      </div>
    </div>

    <!-- Cookie Consent Script -->
    <script>
      // Show banner if user hasn't made a choice
      (function() {
        const cookieConsent = localStorage.getItem('cookieConsent');
        
        if (!cookieConsent) {
          setTimeout(function() {
            const banner = document.getElementById('cookie-consent');
            if (banner) {
              banner.classList.add('show');
            }
          }, 1000);
        }
      })();

      function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookie-consent').classList.remove('show');
        
        // Initialize Google Analytics if user accepts
        if (typeof gtag !== 'undefined') {
          gtag('consent', 'update', {
            'analytics_storage': 'granted'
          });
        }
      }

      function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookie-consent').classList.remove('show');
        
        // Disable Google Analytics if user declines
        if (typeof gtag !== 'undefined') {
          gtag('consent', 'update', {
            'analytics_storage': 'denied'
          });
        }
      }

      function showPrivacyInfo() {
        const modal = document.getElementById('privacy-modal');
        if (modal) {
          modal.style.display = 'flex';
        }
      }

      function closePrivacyInfo() {
        const modal = document.getElementById('privacy-modal');
        if (modal) {
          modal.style.display = 'none';
        }
      }

      // Update modal styling for dark mode
      document.addEventListener('DOMContentLoaded', function() {
        const modal = document.getElementById('privacy-modal');
        if (modal) {
          const modalContent = modal.querySelector('div');
          const updateModalTheme = function() {
            const isDark = document.body.classList.contains('dark-mode') || 
                          document.documentElement.getAttribute('data-theme') === 'dark';
            if (modalContent) {
              modalContent.style.backgroundColor = isDark ? '#0e1116' : '#ffffff';
              modalContent.style.color = isDark ? 'rgb(250, 250, 250)' : 'rgb(10, 10, 10)';
              
              const headings = modalContent.querySelectorAll('h2, h3');
              headings.forEach(h => {
                h.style.color = isDark ? 'rgb(250, 250, 250)' : 'rgb(10, 10, 10)';
              });
              
              const paragraphs = modalContent.querySelectorAll('p');
              paragraphs.forEach(p => {
                p.style.color = isDark ? 'rgb(163, 163, 163)' : 'rgb(82, 82, 82)';
              });
              
              const links = modalContent.querySelectorAll('a');
              links.forEach(a => {
                a.style.color = isDark ? 'rgb(250, 250, 250)' : 'rgb(10, 10, 10)';
              });
              
              const button = modalContent.querySelector('button');
              if (button) {
                button.style.backgroundColor = isDark ? 'rgb(250, 250, 250)' : 'rgb(10, 10, 10)';
                button.style.color = isDark ? '#0e1116' : '#ffffff';
                button.style.borderColor = isDark ? 'rgb(250, 250, 250)' : 'rgb(10, 10, 10)';
              }
            }
          };
          
          // Update on load
          updateModalTheme();
          
          // Listen for theme changes
          const observer = new MutationObserver(updateModalTheme);
          observer.observe(document.body, { attributes: true, attributeFilter: ['class'] });
          observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
        }
      });
    </script>

  </body>
</html>
